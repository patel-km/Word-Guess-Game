<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="UTF-8">
        <title>Word Guessing Game</title>
        <link rel="stylesheet" type="text/css" href="assets/css/reset.css">
        <link rel="stylesheet" type="text/css" href="assets/css/style.css">
        <link href="https://fonts.googleapis.com/css?family=Bad+Script|Dawning+of+a+New+Day" rel="stylesheet">

    </head>

    <body>
        <div class="container">
            <div class="head">
                <h1>Hangman</h1>
                <br>
                <p>
                    Start playing immediately by pressing a letter to make your first guess!
                </p>
                <br>
            </div>
            
            <div id="main-game">
                <p>
                    <!-- word goes here, so the little underscores -->
                </p>
            </div>

        </div> <!--"Container" closing Div-->

        <div class="footer">
            KP
        </div>

        <script>
        //List of terms for game:
            //Bank of words to guess (array, pulling from an endless/random list?)
        var words = ["tomato", "oxygen","warrior", "bibliography", "awkward","yacht","bagpipes","pixel","crypt","banjo","phlegm","croquet","kiosk","dwarves","ivory","fervent","sphinx","gazebo","zombie","gypsy","haiku","hyphen","squawk","jukebox","kayak","wildebeest","klutz","mystify","ostracize","pajama","quip","rhythmic","fjord","rogue","swivel","twelfth","zealous","haphazard",];
        var guessedLetters = [];
        var lettersOnly = /[a-z]/g;
        var chances = 10;
        var wins = 0;
        var losses = 0;
        var html = 
            "<p>"+ strReplace()+"</p>"+
            "<h2>Your guesses</h2>"+
            "<h3>"+ guessedLetters +"</h3>"+
            "<p>You have " + chances + " chances left to guess</p>"+
            "<br>"+
            "<br>"+
            "<h2>Score:</h2>"+
            "<p>Wins: "+wins+"</p>"+
            "<p>Losses: "+losses+"</p>";

        //Light up signal and maybe sound after initial keystroke to visually signal that game has begun
        
        //Keystrokes following initial one triggers the following events:
            //a) display word from "words"
            //1) Add the user's guess into the array of guessed letters
        document.onkeyup = function(event) {
            // var guess = event.key;
            var guess = event.key.toLowerCase();
            guessedLetters.push(guess);

            var html = 
            "<p>"+ strReplace()+"</p>"+
            "<h2>Your guesses</h2>"+
            "<p>"+ guessedLetters +"</p>"+
            "<p>You have " + chances + " chances left to guess</p>"+
            "<br>"+
            "<br>"+
            "<h2>Score:</h2>"+
            "<p>Wins: "+wins+"</p>"+
            "<p>Losses: "+losses+"</p>";

            document.querySelector("#main-game").innerHTML = html;
        }
        
        // for (var i=0; i < words.length; i++){
            //write in word
            //replace the characters with _
            //replace _ with guessed characters as user guesses
            //once word is filled in OR chances < 1, replace word with next in array
        //}

        function strReplace() {
            var open = words [0];
            var hidden = open.replace("\\.","_");
            hidden;
        }
        
        strReplace();

        // str = str.replaceAll(".", "_");
        
            //2) If key pressed = character in word, 
        //     if (str.includes(guess) {
        //         //fill in blanks on word where applicable
        //         
                // function strReplace(){
                //     var myStr = words[0];
                //     var newStr = myStr.replace(/_/g, guess);
                    
                //     // Insert modified string in paragraph
                //     $("p").html(newStr);
                // }

                //no alteration on remainingChances

        //     }
        //     // 3) calculating chances remaining after user makes a wrong guess
        //     if (guess!== "character in word") {
        //         chances--;
        //     }
        // }
        
        // //if user solves word before chances =0,
        // if (chances>0 && "------------") {
        //     wins++;//User wins
        // }
        
        // if (chances=0) {
        //     losses++;//User loses
        // }

        //No "chances" effect for a repeated keystroke, AKA can't get penalized for clicking the same letter more than once.

        //When user wins or loses, reset the elements for a new game with a new word

        //Apply the script to the html
        

        document.querySelector("#main-game").innerHTML = html
    
        </script>

    </body>

</html>